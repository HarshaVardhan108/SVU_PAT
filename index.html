<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="assets/index.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="assets/styles.css">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="manifest" href="assets/site.webmanifest">
</head>

<body>
    <nav class="navbar">
        <div class="nav-content">
            <h1 class="nav-title">SVU Personality Assessment Test</h1>
        </div>
    </nav>

    <div class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">SVU Personality Assessment Test</h1>
            <a href="#main" class="start-btn">Start Assessment</a>
        </div>

        <div class="scroll-indicator">
            <div class="scroll-text">Scroll Down</div>
            <div class="scroll-arrow"></div>
        </div>
    </div>

    <section id="main" class="main">
        <div class="container">
            <h1 class="section-title">Personality Assessment Test</h1>
            <p class="section-description">The following is a 20 min personality evaluation test that is meant to check
                your Intelligence Quotient, Emotional Quotient, and Spiritual Quotient.</p>

            <h2>Instructions:</h2>
            <ol>
                <li>Toppers will get Special Gifts.</li>
                <li>Please carefully give responses. Only one submission is allowed.</li>
                <li>All questions are compulsory.</li>
                <li>EQ and SQ comprise 70% of the total score.</li>
                <li>IQ comprises 30% of the total score.</li>
            </ol>

            <form name="assessment-form" method="POST" data-netlify="true" action="/mcq.html" id="assessment-form">
                <input type="hidden" name="form-name" value="assessment-form" />
                <div class="form-row">
                    <label for="name">Name <span class="required">*</span></label>
                    <input type="text" id="name" name="name" placeholder="Enter your name" required>
                    <span class="error-message" id="name-error"></span>
                </div>

                <div class="form-row">
                    <label for="email">Email <span class="required">*</span></label>
                    <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                    <span class="error-message" id="email-error"></span>
                </div>

                <div class="form-row">
                    <label for="phone">Phone Number <span class="required">*</span></label>
                    <input type="text" id="phone" name="phone_number" placeholder="Enter your Phone number" required pattern="\d{10}">
                    <span class="error-message" id="phone-error"></span>
                </div>

                <div class="form-row">
                    <label for="whatsapp">Whatsapp Number<span class="required">*</span></label>
                    <input type="text" id="whatsapp" name="whatsapp_number" placeholder="Enter your Whatsapp number" required pattern="\d{10}">
                    <span class="error-message" id="whatsapp-error"></span>
                </div>

                <div class="form-row">
                    <label for="place">Native Place(Town/Village)<span class="required">*</span></label>
                    <input type="text" id="place" name="native_place" placeholder="Enter your Native Place" required>
                    <span class="error-message" id="place-error"></span>
                </div>

                <div class="form-row">
                    <label for="branch">Branch <span class="required">*</span></label>
                    <select id="branch" name="branch" required>
                        <option value="">- Choose -</option>
                        <option value="CSE">CSE</option>
                        <option value="EEE">EEE</option>
                        <option value="ECE">ECE</option>
                        <option value="ME">ME</option>
                        <option value="CHE">CHE</option>
                        <option value="CIV">CIV</option>
                    </select>
                    <span class="error-message" id="branch-error"></span>
                </div>

                <div class="form-row">
                    <label>Gender <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="male" name="gender" value="male" required>
                            <label for="male">Male</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="female" name="gender" value="female">
                            <label for="female">Female</label>
                        </div>
                    </div>
                    <span class="error-message" id="gender-error"></span>
                </div>

                <div class="form-row">
                    <label>Hostel / Day Scholar <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="hostel" name="hostel_or_day_scholar" value="hostel" required>
                            <label for="hostel">Hostel</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="dayScholar" name="hostel_or_day_scholar" value="day_scholar">
                            <label for="dayScholar">Day Scholar</label>
                        </div>
                    </div>
                    <span class="error-message" id="hostel-error"></span>
                </div>

                <button type="submit" class="nav-btn">Start</button>
            </form>
        </div>
    </section>

    <script>
        // Form validation
        document.getElementById('assessment-form').addEventListener('submit', function (e) {
            let valid = true;

            // Name
            const name = document.getElementById('name');
            const nameError = document.getElementById('name-error');
            if (!name.value.trim()) {
                nameError.textContent = 'Name is required.';
                valid = false;
            } else {
                nameError.textContent = '';
            }

            // Email
            const email = document.getElementById('email');
            const emailError = document.getElementById('email-error');
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email.value.trim()) {
                emailError.textContent = 'Email is required.';
                valid = false;
            } else if (!emailPattern.test(email.value.trim())) {
                emailError.textContent = 'Enter a valid email address.';
                valid = false;
            } else {
                emailError.textContent = '';
            }

            // Phone
            const phone = document.getElementById('phone');
            const phoneError = document.getElementById('phone-error');
            if (!/^\d{10}$/.test(phone.value.trim())) {
                phoneError.textContent = 'Enter a valid 10-digit phone number.';
                valid = false;
            } else {
                phoneError.textContent = '';
            }

            // Whatsapp
            const whatsapp = document.getElementById('whatsapp');
            const whatsappError = document.getElementById('whatsapp-error');
            if (!/^\d{10}$/.test(whatsapp.value.trim())) {
                whatsappError.textContent = 'Enter a valid 10-digit WhatsApp number.';
                valid = false;
            } else {
                whatsappError.textContent = '';
            }

            // Native Place
            const place = document.getElementById('place');
            const placeError = document.getElementById('place-error');
            if (!place.value.trim()) {
                placeError.textContent = 'Native place is required.';
                valid = false;
            } else {
                placeError.textContent = '';
            }

            // Branch
            const branch = document.getElementById('branch');
            const branchError = document.getElementById('branch-error');
            if (!branch.value) {
                branchError.textContent = 'Please select your branch.';
                valid = false;
            } else {
                branchError.textContent = '';
            }

            // Gender
            const genderError = document.getElementById('gender-error');
            if (!document.querySelector('input[name="gender"]:checked')) {
                genderError.textContent = 'Please select your gender.';
                valid = false;
            } else {
                genderError.textContent = '';
            }

            // Hostel/Day Scholar
            const hostelError = document.getElementById('hostel-error');
            if (!document.querySelector('input[name="hostel_or_day_scholar"]:checked')) {
                hostelError.textContent = 'Please select Hostel or Day Scholar.';
                valid = false;
            } else {
                hostelError.textContent = '';
            }

            if (!valid) {
                e.preventDefault();
                return;
            }

            // If valid, store form data and redirect
            const form = e.target;
            const formData = new FormData(form);
            const formDataObj = {};
            for (const [key, value] of formData.entries()) {
                formDataObj[key] = value;
            }
            sessionStorage.setItem('personalData', JSON.stringify(formDataObj));
            window.location.href = '/mcq.html';
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            const scrollIndicator = document.querySelector('.scroll-indicator');

            // Click handler for scroll indicator
            scrollIndicator.addEventListener('click', function () {
                const mainSection = document.querySelector('#main');
                mainSection.scrollIntoView({ behavior: 'smooth' });
            });

            // Hide scroll indicator when user scrolls
            let scrollTimeout;
            window.addEventListener('scroll', function () {
                if (window.scrollY > 100) {
                    scrollIndicator.classList.add('hidden');
                } else {
                    scrollIndicator.classList.remove('hidden');
                }

                // Show scroll indicator when user stops scrolling
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(function () {
                    if (window.scrollY < 100) {
                        scrollIndicator.classList.remove('hidden');
                    }
                }, 1000);
            });
        });
    </script>
</body>
<script src="script.js"></script>

</html>